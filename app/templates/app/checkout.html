{% extends 'app/base.html' %}
{% load static %}
{% block title %}Checkout{% endblock title %}
{% block main-content %}
<div class="container">
  <div class="row mt-5">

    <!-- Order Summary -->
    <div class="col-sm-6">
      <h4>Order Summary</h4>
      <hr>
      {% for item in cart_items %}
        <div class="card mb-2">
          <div class="card-body">
            <h5>Product: {{item.product.title}}</h5>
            <p>Quantity: {{item.quantity}}</p>
            <p class="fw-bold">Price: {{item.total_cost}}</p>
          </div>
        </div>
      {% endfor %}

      <p class="fw-bold">Total Cost + Â£{{shipping_amount}} = {{totalamount}}</p>
      <small class="text-muted">
        ğŸ”” Important Notice
Currently, Cash on Delivery (COD) is the only payment method available on VMS Styles.
We sincerely apologize for any inconvenience this may cause.

ğŸ’¡ We are actively working on integrating online payment options (Credit/Debit Cards, UPI, Net Banking, PayPal, etc.) to provide you with a smoother checkout experience.

ğŸ™ Thank you for your understanding and continued support.
      </small>
    </div>

    <!-- Shipping Address -->
    <div class="col-sm-4 offset-sm-1">
      <h4>Select Shipping Address</h4>
      <hr>
      <form method="post" action="{% url 'paymentdone' %}">
        {% csrf_token %}
        
        {% for ad in add %}
          <div class="card mb-3">
            <div class="card-body">
              <h5>{{ad.name}}</h5>
              <p>{{ad.locality}}, {{ad.city}}, {{ad.state}}, {{ad.zipcode}}</p>

              <div class="form-check mt-2">
                <input class="form-check-input" 
                       type="radio" 
                       name="custid" 
                       id="custadd{{forloop.counter}}" 
                       value="{{ad.id}}" 
                       {% if forloop.first %}checked{% endif %}>
                <label class="form-check-label fw-bold" for="custadd{{forloop.counter}}">
                  Select this address
                </label>
              </div>
            </div>
          </div>
        {% endfor %}

        <div class="text-end">
          <button type="submit" class="btn btn-warning mt-3 px-5 fw-bold">Continue</button>
        </div>
      </form>
    </div>

  </div>
</div>
{% endblock main-content %}